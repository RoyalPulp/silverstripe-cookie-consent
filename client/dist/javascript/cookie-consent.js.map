{"version":3,"sources":["cookie-consent.js"],"names":["CookieConsent","self","this","popup","document","getElementById","buttons","menu","querySelectorAll","length","Array","prototype","forEach","call","button","index","addEventListener","e","preventDefault","accept","bind","window","throttle","_listeners","event","Cookie","set","style","display","_fire","type","data","listener","on","handler","push","off","indexOf","splice","module","exports","define","amd"],"mappings":"CAAA,WACA,aAQA,SAAAA,gBAEA,IAAAC,KAAAC,KAGAA,KAAAC,MAAAC,SAAAC,eAAA,iBAGAH,KAAAI,QAAAJ,KAAAK,KAAAC,iBAAA,6BACA,EAAAN,KAAAI,QAAAG,QACAC,MAAAC,UAAAC,QAAAC,KAAAX,KAAAI,QAAA,SAAAQ,OAAAC,OACAD,OAAAE,iBAAA,QAAA,SAAAC,GACAA,EAAAC,iBACAhB,KAAAiB,UACAC,KAAAlB,QACAkB,KAAAlB,OAIAmB,OAAAL,iBAAA,SAAAM,SAAA,WACArB,KAAAkB,UACA,MAGAjB,KAAAqB,WAAA,GA7BAnB,SAAAY,iBAAA,mBAAA,SAAAQ,OACA,IAAAxB,gBA+BAA,cAAAW,UAAAQ,OAAA,WAMA,OALAM,OAAAC,IAAA,gBAAA,QACAxB,KAAAC,QACAD,KAAAC,MAAAwB,MAAAC,QAAA,QAEA1B,KAAA2B,MAAA,UACA3B,MAGAF,cAAAW,UAAAkB,MAAA,SAAAC,KAAAC,WACA,IAAA7B,KAAAqB,aACArB,KAAAqB,WAAA,KAEArB,KAAAqB,WAAAO,OAAA,IAEAlB,QAAA,SAAAoB,UACAA,SAAAD,SAIA/B,cAAAW,UAAAsB,GAAA,SAAAH,KAAAI,SAOA,YANA,IAAAhC,KAAAqB,WAAAO,QACA5B,KAAAqB,WAAAO,MAAA,IAGA5B,KAAAqB,WAAAO,MAAAK,KAAAD,SAEAhC,MAGAF,cAAAW,UAAAyB,IAAA,SAAAN,KAAAI,SACA,IAAAnB,MAAAb,KAAAqB,WAAAO,MAAAO,QAAAH,SAMA,OAJA,EAAAnB,OACAb,KAAAqB,WAAAO,MAAAQ,OAAAvB,MAAA,GAGAb,MAIA,oBAAAqC,aAAA,IAAAA,OAAAC,QACAD,OAAAC,QAAAxC,cACA,mBAAAyC,QAAAA,OAAAC,IACAD,OAAA,gBAAA,GAAA,WACA,OAAAzC,gBAIAqB,OAAArB,cAAAA,cArFA","file":"cookie-consent.js","sourcesContent":[";(function () {\n\t'use strict';\n\t\n\t// init main navigation\n\tdocument.addEventListener(\"DOMContentLoaded\", function(event) {\n\t\tvar cc = new CookieConsent();\n\t});\n\n\t// Constructor\n\tfunction CookieConsent() {\n\t\t\n\t\tvar self = this;\n\n\t\t// Save a reference to the popup\n\t\tthis.popup = document.getElementById('CookieConsent');\n\t\t\n\t\t// handle acceptance buttons\n\t\tthis.buttons = this.menu.querySelectorAll('.js-cookie-consent-button');\n\t\tif (this.buttons.length > 0) {\n\t\t\tArray.prototype.forEach.call(this.buttons, function (button, index) {\n\t\t\t\tbutton.addEventListener('click', function (e) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tthis.accept();\n\t\t\t\t}.bind(this))\n\t\t\t}.bind(this))\n\t\t}\n\t\t\n\t\t// handle window scroll\n\t\twindow.addEventListener('scroll', throttle(function() {\n\t\t\tself.accept();\n\t\t}, 200));\n\n\t\t// initiate listeners object for public events\n\t\tthis._listeners = {}\n\t}\n\t\n\tCookieConsent.prototype.accept = function () {\n\t\tCookie.set('CookieConsent', 'true');\n\t\tif (this.popup) {\n\t\t\tthis.popup.style.display = 'none';\n\t\t}\n\t\tthis._fire('accept');\n\t\treturn this;\n\t}\n\n\tCookieConsent.prototype._fire = function (type, data) {\n\t\tif (typeof this._listeners === 'undefined') {\n\t\t\tthis._listeners = [];\n\t\t}\n\t\tvar listeners = this._listeners[type] || [];\n\n\t\tlisteners.forEach(function (listener) {\n\t\t\tlistener(data);\n\t\t})\n\t}\n\n\tCookieConsent.prototype.on = function (type, handler) {\n\t\tif (typeof this._listeners[type] === 'undefined') {\n\t\t\tthis._listeners[type] = [];\n\t\t}\n\n\t\tthis._listeners[type].push(handler);\n\n\t\treturn this;\n\t}\n\n\tCookieConsent.prototype.off = function (type, handler) {\n\t\tvar index = this._listeners[type].indexOf(handler);\n\n\t\tif (index > -1) {\n\t\t\tthis._listeners[type].splice(index, 1);\n\t\t}\n\n\t\treturn this;\n\t}\n\n\t// Export CookieConsent\n\tif (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\n\t\tmodule.exports = CookieConsent;\n\t} else if (typeof define === 'function' && define.amd) {\n\t\tdefine('CookieConsent', [], function () {\n\t\t\treturn CookieConsent;\n\t\t})\n\t} else {\n\t\t// attach to window\n\t\twindow.CookieConsent = CookieConsent;\n\t}\n}());\n"]}